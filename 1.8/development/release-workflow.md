---
layout: page
title:  "Release Workflow"
categories: [development]
---

0. ### Repository Maintenance

   - #### Public Repositories

     The version is updated in:
     - `MyBB::$version`, `MyBB::$version_code` (_inc/class_core.php_),
     - `$langinfo['version']` in the English language manifest (_inc/languages/english.php_),
     - `version` attributes of `<theme>`, `<stylesheet>`, `<template>` depending on changes (_install/resources/mybb_theme.xml_).

     Target version milestones are removed from unresolved Issues and Pull Requests. Labels are updated.

     The final public codebase is marked with a signed `mybb_*_build` git tag.

   - #### Internal Repositories

     Security patches (if any) are added to the data repository at the `mybb_*_build` tag/branch.

0. ### Pre-Release Public Testing
   The `mybb_*_build` git tag is used to provide downloadable packages of the final codebase that excludes non-public patches. A pinned [announcement thread](https://community.mybb.com/thread-219265.html) is created in the [Development forum](https://community.mybb.com/forum-165.html). The link is shared in the `#18-development` channel on Discord.

0. ### Package Building and Testing
   The [mybb/mybb-build](https://github.com/mybb/mybb-build) build script is used to perform tasks related to preparing releasable packages and associated information.
   The input and output is securely shared between Team members and tested.

0. ### Announcements Preparation

   The package- and version-related information is completed and verified internally:

   - [version metadata](https://github.com/mybb/mybb.com/tree/gh-pages/_versions/) for Release Notes, partially generated by the build script,
   - Release [Blog](https://blog.mybb.com/) Post, fully generated by Jekyll basing on the version metadata at `/versions/release-blog-post/` (locally),
   - [plugin hooks data](https://github.com/mybb/docs.mybb.com/blob/gh-pages/_data/18_plugin_hooks.yml), fully generated by the build script,
   - [file checksums](https://github.com/mybb/mybb.com/tree/gh-pages/checksums), fully generated by the build script.

0. ### Publication

   The packages and associated information are published. The tasks listed should be executed within the shortest timespan possible; the order is security-sensitive.

   1. the file checksums are uploaded to [`mybb.com/checksums/`](https://github.com/mybb/mybb.com/tree/gh-pages/checksums),
   2. the packages are uploaded to `resources.mybb.com` and verified,
   3. the version metadata with listed accessible download locations for packages is pushed to the repository, adding Release Notes and updating MyBB.com pages,
   4. the Release Blog Post is published with _MyBB Team_ as the author, with tags _Release_, _Updates_, and _Security_ if the release addresses security-related issues,
   5. the Release Blog Post is propagated to public channels:

      - [@mybbsecurity](https://twitter.com/mybbsecurity) on Twitter (in accordance with [rules](https://github.com/mybb/meta-internal/blob/master/docs/social-twitter-mybbsecurity.md)),
      - [@mybb](https://twitter.com/mybb) on Twitter,
      - `#18-support` channel on Discord (pinned message),

   6. the Release Notes and Release Blog Post pages are archived using [web.archive.org](https://web.archive.org/).

0. ### Repository Updates

   1. A `MyBB 1.8.x` synchronization commit, containing any changes that have been applied outside the public repository, is pushed and tagged (signed `mybb_18xx` git tag),
   2. a [Release](https://github.com/mybb/mybb/releases) is created and all packages are attached (including `build_*.zip`, containing the input and output of the build script),
   4. the version metadata is updated to list GitHub as a download source for the packages.

0. ### Documentation & Forum Updates
   - The plugin hooks data is pushed to the Docs repository.
   - The Pre-Release thread is unpinned and locked.
